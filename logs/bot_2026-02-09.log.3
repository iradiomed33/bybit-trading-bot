2026-02-10 03:57:08 | INFO     | api.app | WebSocket client connected. Total: 1
2026-02-10 03:57:08 | ERROR    | api.app | WS: failed to fetch Bybit balance: name '_fetch_balance_snapshot_sync' is not defined
Traceback (most recent call last):
  File "/root/bybit-trading-bot/api/app.py", line 1337, in websocket_endpoint
    balance_payload = await asyncio.to_thread(_fetch_balance_snapshot_sync)
NameError: name '_fetch_balance_snapshot_sync' is not defined
2026-02-10 03:57:28 | ERROR    | api.app | WebSocket error: 1001
2026-02-10 03:57:28 | INFO     | api.app | WebSocket client disconnected. Total: 0
2026-02-10 03:57:28 | INFO     | api.app | GET /api/config called
2026-02-10 03:57:28 | INFO     | api.app | Config returned successfully with 11 keys
2026-02-10 03:57:29 | INFO     | api.app | WebSocket client connected. Total: 1
2026-02-10 03:57:29 | ERROR    | api.app | WS: failed to fetch Bybit balance: name '_fetch_balance_snapshot_sync' is not defined
Traceback (most recent call last):
  File "/root/bybit-trading-bot/api/app.py", line 1337, in websocket_endpoint
    balance_payload = await asyncio.to_thread(_fetch_balance_snapshot_sync)
NameError: name '_fetch_balance_snapshot_sync' is not defined
2026-02-10 03:57:48 | INFO     | api.app | Stopping bot instance...
2026-02-10 03:58:23 | INFO     | api.app | Bot stopped via API
2026-02-10 03:58:23 | ERROR    | api.app | WebSocket error: 1001
2026-02-10 03:58:23 | INFO     | api.app | WebSocket client disconnected. Total: 0
2026-02-10 03:58:23 | INFO     | api.app | GET /api/config called
2026-02-10 03:58:23 | INFO     | api.app | Config returned successfully with 11 keys
2026-02-10 03:58:24 | INFO     | api.app | WebSocket client connected. Total: 1
2026-02-10 03:58:24 | ERROR    | api.app | WS: failed to fetch Bybit balance: name '_fetch_balance_snapshot_sync' is not defined
Traceback (most recent call last):
  File "/root/bybit-trading-bot/api/app.py", line 1337, in websocket_endpoint
    balance_payload = await asyncio.to_thread(_fetch_balance_snapshot_sync)
NameError: name '_fetch_balance_snapshot_sync' is not defined
2026-02-10 03:59:45 | ERROR    | api.app | WebSocket error: CloseCode.ABNORMAL_CLOSURE
2026-02-10 03:59:45 | INFO     | api.app | WebSocket client disconnected. Total: 0
2026-02-10 04:19:09 | INFO     | api.app | WebSocket client connected. Total: 1
2026-02-10 04:19:09 | ERROR    | api.app | WS: failed to fetch Bybit balance: name '_fetch_balance_snapshot_sync' is not defined
Traceback (most recent call last):
  File "/root/bybit-trading-bot/api/app.py", line 1337, in websocket_endpoint
    balance_payload = await asyncio.to_thread(_fetch_balance_snapshot_sync)
NameError: name '_fetch_balance_snapshot_sync' is not defined
2026-02-10 04:25:11 | ERROR    | api.app | WebSocket error: CloseCode.ABNORMAL_CLOSURE
2026-02-10 04:25:11 | INFO     | api.app | WebSocket client disconnected. Total: 0
2026-02-10 05:08:41 | INFO     | api.app | API server shutdown
